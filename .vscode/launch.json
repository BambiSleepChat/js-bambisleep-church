{
  // BambiSleepâ„¢ Church - Debug & Launch Configuration
  // WSL Remote Development compatible
  "version": "0.2.0",
  "configurations": [
    
    // ============================================================
    // Node.js Server Debugging
    // ============================================================
    {
      "type": "node",
      "request": "launch",
      "name": "ğŸš€ Launch Server (Development)",
      "skipFiles": ["<node_internals>/**"],
      "program": "${workspaceFolder}/src/server.js",
      "env": {
        "NODE_ENV": "development",
        "PORT": "3000"
      },
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "restart": true,
      "runtimeArgs": ["--experimental-modules"],
      "outputCapture": "std"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "ğŸš€ Launch Server (Production)",
      "skipFiles": ["<node_internals>/**"],
      "program": "${workspaceFolder}/src/server.js",
      "env": {
        "NODE_ENV": "production",
        "PORT": "3000"
      },
      "console": "integratedTerminal"
    },
    {
      "type": "node",
      "request": "attach",
      "name": "ğŸ”— Attach to Process",
      "port": 9229,
      "restart": true,
      "skipFiles": ["<node_internals>/**"]
    },

    // ============================================================
    // Jest Testing
    // ============================================================
    {
      "type": "node",
      "request": "launch",
      "name": "ğŸ§ª Jest Tests (Current File)",
      "program": "${workspaceFolder}/node_modules/.bin/jest",
      "args": ["${fileBasename}", "--runInBand", "--coverage", "--verbose"],
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "windows": {
        "program": "${workspaceFolder}/node_modules/jest/bin/jest"
      }
    },
    {
      "type": "node",
      "request": "launch",
      "name": "ğŸ§ª Jest Tests (All)",
      "program": "${workspaceFolder}/node_modules/.bin/jest",
      "args": ["--runInBand", "--coverage", "--verbose"],
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "windows": {
        "program": "${workspaceFolder}/node_modules/jest/bin/jest"
      }
    },
    {
      "type": "node",
      "request": "launch",
      "name": "ğŸ§ª Jest Tests (Watch Mode)",
      "program": "${workspaceFolder}/node_modules/.bin/jest",
      "args": ["--watch", "--coverage"],
      "console": "integratedTerminal",
      "internalConsoleOptions": "neverOpen",
      "windows": {
        "program": "${workspaceFolder}/node_modules/jest/bin/jest"
      }
    },

    // ============================================================
    // Browser Debugging (for frontend)
    // ============================================================
    {
      "type": "msedge",
      "request": "launch",
      "name": "ğŸŒ Launch Edge",
      "url": "http://localhost:3000",
      "webRoot": "${workspaceFolder}/public",
      "sourceMaps": true,
      "userDataDir": false
    },
    {
      "type": "chrome",
      "request": "launch",
      "name": "ğŸŒ Launch Chrome",
      "url": "http://localhost:3000",
      "webRoot": "${workspaceFolder}/public",
      "sourceMaps": true,
      "userDataDir": false
    },

    // ============================================================
    // Docker Container Debugging
    // ============================================================
    {
      "type": "node",
      "request": "attach",
      "name": "ğŸ³ Docker: Attach to Node",
      "port": 9229,
      "address": "localhost",
      "localRoot": "${workspaceFolder}",
      "remoteRoot": "/app",
      "restart": true
    }
  ],

  // ============================================================
  // Compound Configurations
  // ============================================================
  "compounds": [
    {
      "name": "ğŸš€ğŸŒ Server + Browser",
      "configurations": ["ğŸš€ Launch Server (Development)", "ğŸŒ Launch Edge"],
      "stopAll": true
    },
    {
      "name": "ğŸ§ªğŸš€ Tests + Server",
      "configurations": ["ğŸ§ª Jest Tests (Watch Mode)", "ğŸš€ Launch Server (Development)"],
      "stopAll": true
    }
  ]
}
